/*
   Site-specific aesthetic tweaks
   Keep overrides small and theme-friendly
*/

/* Improve link styling */
a {
  text-underline-offset: 2px;
  text-decoration-thickness: 1.5px;
}

/* Keep smoothing only for the left profile sidebar */
.sidebar {
  border-radius: $border-radius;
  box-shadow: $box-shadow;
}

/* Remove card edges/shadows from main content and archive items */
.page,
.page__content,
.archive__item {
  background: transparent;
  border: 0;
  border-radius: 0;
  box-shadow: none;
}

/* Masthead spacing + subtle divider */
.masthead {
  border-bottom: 1px solid $border-color;
}

/* Aurora banner gradient: homepage only when used */
.aurora-banner {
  /* Use provided image with a subtle dark overlay for text contrast */
  background:
    linear-gradient(180deg, rgba(3,7,5,0.55), rgba(3,7,5,0.55)),
    url('/images/aurora-banner.jpg');
  background-size: cover;
  background-repeat: no-repeat;
  background-position: center;
  /* full-bleed under the fixed sidebar */
  position: relative;
  z-index: 0;           /* sidebar has higher z-index */
  width: 100vw;         /* span full viewport */
  margin-left: calc(50% - 50vw); /* escape container to full-bleed */
  pointer-events: none; /* ensure sidebar remains interactive above */
}

/* Prefer dark mode palette without breaking theme */
@media (prefers-color-scheme: dark) {
  :root {
    color-scheme: dark;
  }

  body {
    background-color: #0f1216;
    color: #e6e9ef;
  }

  .page,
  .page__content,
  .archive__item,
  .sidebar {
    background: #171a20;
    box-shadow: 0 6px 18px rgba(0,0,0,0.35);
    border-color: rgba(255,255,255,0.06);
  }

  .masthead {
    background: #0f1216;
    border-color: rgba(255,255,255,0.08);
  }

  a { color: lighten($link-color, 10%); }
  a:hover { color: lighten($link-color-hover, 10%); }
}

/* Masonry gallery for Photos page */
.masonry {
  column-gap: 12px;
  column-count: 1;

  @include breakpoint($small) { column-count: 2; }
  @include breakpoint($medium) { column-count: 3; }
  @include breakpoint($large) { column-count: 3; }
  @include breakpoint($x-large) { column-count: 4; }
}

.masonry__item {
  display: inline-block;
  margin: 0 0 12px;
  width: 100%;
  border-radius: 8px;
  overflow: hidden;
}

.masonry__item img {
  display: block;
  width: 100%;
  height: auto;
}

/* Photos page: make masthead transparent so it visually disappears over photos */
.photos .masthead {
  background: transparent;
}

/* Ensure photos content starts below the fixed masthead */
.photos #main {
  padding-top: calc(#{$masthead-height} + 12px);
}


